<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>svg-detailer demo</title>
    <script src="../src/svg-detailer.js"></script>
  </head>
  <body>
  <div>
    <input id="image_file" type="file" onchange="getImage(event)">
  </div>
    <div id="container" style="overflow: hidden; left: 50px; top: 175px; position: inherit;" tabindex="0"
                        data-height="600"
                        data-width="600"
                        data-image="/Users/jrichardflood/Downloads/CockroachImages/MNHN.1223.HOLOTYPE.EP3442.Hemithyrsocera suspecta Bolivar, 1897.jpg"
                        data-buttons='{"buttons": [
                        {"function": "polygon", "color": "FF0000"},
                        {"function": "polyline", "color": "FF0000"},
                        {"function": "line", "color": "FF0000"},
                        {"function": "rectangle", "color": "FF0000"},
                        {"function": "circle", "color": "FF0000"},
                        {"function": "ellipse", "color": "FF0000"},
                        {"function": "cubic", "color": "FF0000"},
                        {"function": "quadratic", "color": "FF0000"},
                        {"function": "draw", "color": "FF0000"},
                        {"function": "text", "color": "0000FF"}
                        ]}'>
    </div>
    <script>
      var svgDraw;
      function getImage(files) {
        var files = event.target.files
        var file_name = document.getElementById(("image_file"));
        var svg_container = document.getElementById("container");

        if (FileReader && files && files.length) {
          var fileReader = new FileReader()
          fileReader.onload = (image) => {
            svg_container.attributes["data-image"].value = fileReader.result;
            svgDraw = new SVGDraw(svg_container);
          }
          fileReader.readAsDataURL(files[0])
        }
      }
    </script>
  </body>
</html>

